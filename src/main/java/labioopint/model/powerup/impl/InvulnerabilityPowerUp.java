package labioopint.model.powerup.impl;

import labioopint.model.core.api.TurnManager;
import labioopint.model.maze.api.Labyrinth;
import labioopint.model.player.api.Player;

/**
 * This class represents a power-up that grants a player temporary invulnerability.
 */
public final class InvulnerabilityPowerUp extends PowerUpImpl {
    public static final long serialVersionUID = 1L;
    /**
     * Construction of the InvulnerabilityPowerUp by giving it an id.
     * @param id the identifier.
     */
    public InvulnerabilityPowerUp(final int id) {
        super(id);
        super.setName("Invulnerability");
    }

    @Override
    public void activate(final Labyrinth lab, final TurnManager turn) {
        final Player p = lab.getPlayers().get(turn.getCurrentPlayer());
        if (p.getUsablePowerUps().contains(this)) {
            if (isCollected()) {
                p.enableInvincible();
            }
            p.removePowerUp(this);
        }
    }
}
